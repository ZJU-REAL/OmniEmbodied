<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dataset Correction Tool</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jsoneditor/9.10.2/jsoneditor.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Dataset Correction Tool - Progress: <span id="progress">0/0</span></h1>
            <div class="task-info">
                <p><strong>Current:</strong> <span id="current-task">-</span> (<span id="task-category">-</span>)</p>
<p><strong>Task Description:</strong> <span id="task-description">-</span></p>
            </div>
        </div>
        
        <div class="task-section">
            <h3>Task Definition (Task JSON)
<button id="save-task" class="save-button">Save</button>
<button id="reset-task" class="reset-button">Reset</button>
            </h3>
            <div id="task-editor" class="task-editor"></div>
        </div>
        
        <div class="main-content">
            <div class="scene-section">
                <h3>Scene Configuration (Scene JSON)
<button id="save-scene" class="save-button">Save</button>
<button id="reset-scene" class="reset-button">Reset</button>
                </h3>
                <div id="scene-editor" class="scene-editor"></div>
            </div>

            <div class="trajectory-section">
                <h3>Trajectory Data (Trajectory JSON) - Read Only</h3>
                <div id="trajectory-editor" class="trajectory-editor"></div>
            </div>
            
            <div class="evaluation-panel">
                <h3>Manual Evaluation</h3>
                
                <div class="question">
                    <p><strong>1. Can the task be completed?</strong></p>
<div class="radio-group">
<label><input type="radio" name="completable" value="yes"> Yes</label>
<label><input type="radio" name="completable" value="no"> No</label>
                    </div>
                </div>
                
                <div class="question" id="correctness-question" style="display: none;">
                    <p><strong>2. Did GPT-4 complete it correctly?</strong></p>
<div class="radio-group">
<label><input type="radio" name="correctness" value="correct"> Correct</label>
<label><input type="radio" name="correctness" value="incorrect"> Incorrect</label>
                    </div>
                </div>
                
                <div class="previous-result">
                    <p><strong>Previous Result:</strong> <span id="previous-result">None</span></p>
                </div>
                
                <div class="notes-section">
                    <label for="notes"><strong>Notes:</strong></label>
<textarea id="notes" placeholder="Optional notes..."></textarea>
                </div>
                
                <div class="buttons">
                    <button id="save-evaluation" class="btn-primary">Save Evaluation</button>
                    <div class="nav-buttons">
                        <button id="prev-task" class="btn-secondary">Previous</button>
                        <button id="next-task" class="btn-secondary">Next</button>
                    </div>
                    <div class="jump-section">
                        <input type="number" id="jump-index" placeholder="Jump to..." min="1">
<button id="jump-task" class="btn-secondary">Jump</button>
                    </div>
                </div>
                
                <div class="status" id="status"></div>

                <div class="help-section">
                    <details>
                        <summary><strong>Editing Help</strong></summary>
                        <div class="help-content">
                            <p><strong>Code Mode Editing:</strong></p>
                            <ul>
                                <li>Directly edit JSON code with syntax highlighting</li>
                                <li>Use search box for quick content location</li>
                                <li>Support Ctrl+F for find and replace</li>
                            </ul>
                            <p><strong>Add properties to empty states:</strong></p>
                            <ul>
                                <li>Find "states": {}</li>
                                <li>Add properties in {}, such as:<br>
                                    "is_active": false,<br>
                                    "is_open": true</li>
                            </ul>
                            <p><strong>Switch Views:</strong></p>
                            <ul>
                                <li>Code Mode: Direct JSON text editing</li>
                                <li>Tree Mode: Visual editing</li>
                                <li>Form Mode: Form-based editing</li>
                            </ul>
                        </div>
                    </details>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsoneditor/9.10.2/jsoneditor.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
